<!-- index.html -->
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>التسجيل - Coursier Prioritaire</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="scripts.js" defer></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>مرحبًا في Coursier Prioritaire</h1>
      <p>سجّل الدخول أو أنشئ حسابًا جديدًا!</p>
    </header>

    <div id="alert-container"></div>

    <!-- نموذج تسجيل الدخول -->
    <form id="login-form">
      <h2>تسجيل الدخول</h2>
      <label for="login-phone">رقم الهاتف:</label>
      <input type="tel" id="login-phone" placeholder="06XXXXXXXX" required />
      <button type="submit" class="btn">تسجيل الدخول</button>
    </form>

    <hr />

    <!-- نموذج إنشاء حساب جديد -->
    <form id="register-form">
      <h2>إنشاء حساب جديد</h2>
      <label for="reg-name">الاسم كاملًا:</label>
      <input type="text" id="reg-name" placeholder="مثال: محمد علي" required />

      <label for="reg-phone">رقم الهاتف:</label>
      <input type="tel" id="reg-phone" placeholder="06XXXXXXXX" required />

      <label for="reg-email">البريد الإلكتروني (اختياري):</label>
      <input type="email" id="reg-email" placeholder="name@example.com" />

      <label for="reg-role">نوع الحساب:</label>
      <select id="reg-role" required>
        <option value="client">عميل</option>
        <option value="courier">ساعي توصيل</option>
      </select>

      <button type="submit" class="btn">إنشاء الحساب</button>
    </form>
  </div>

  <footer>
    &copy; 2025 Coursier Prioritaire Toulouse
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // إذا المستخدم مسجل محلياً، توجيهه مباشرةً
      const user = getUserFromLocal();
      if (user) {
        if (user.role === "client") window.location.href = "client.html";
        else if (user.role === "courier") window.location.href = "courier.html";
      }
    });

    // تسجيل الدخول
    document.getElementById("login-form").addEventListener("submit", handleLogin);
    // إنشاء حساب
    document.getElementById("register-form").addEventListener("submit", handleRegister);
  </script>
</body>
</html>
