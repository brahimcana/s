<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Google Apps Script</title>
</head>
<body>
  <h2>Tester l'envoi de données vers Google Apps Script</h2>

  <label for="nom">Nom :</label>
  <input type="text" id="nom" placeholder="Votre nom"><br><br>

  <label for="email">Email :</label>
  <input type="email" id="email" placeholder="Votre email"><br><br>

  <button onclick="envoyer()">Envoyer</button>

  <p id="resultat" style="margin-top:20px;color:blue;"></p>

  <script>
    async function envoyer() {
      const nom = document.getElementById('nom').value;
      const email = document.getElementById('email').value;

      const data = {
        name: nom,
        email: email
      };

      const url = 'https://script.google.com/macros/s/AKfycbzBLlXlwArIS1KrZDJNIJPpn1cfgA0YJSZxz5fs25jB64ngEMp3hMatf7hSPVashceG/exec';

      try {
        const res = await fetch(url + '?path=createUser', {
          method: 'POST',
          body: JSON.stringify(data),
          headers: {
            'Content-Type': 'application/json'
          }
        });

        const result = await res.json();
        document.getElementById('resultat').textContent = '✅ Succès : ' + JSON.stringify(result);

      } catch (error) {
        document.getElementById('resultat').textContent = '❌ Erreur : ' + error.message;
      }
    }
  </script>
</body>
</html>
